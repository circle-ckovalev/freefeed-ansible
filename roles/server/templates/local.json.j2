{
  "secret": "{{ freefeed_secret }}",
  "origin": "*",
  "serviceName": "FreeFeed",
  "monitorPrefix": "{{ monitor_prefix }}",
  "trustProxyHeaders": true,
  "onboardingUsername": "@circle",
  "recaptcha": {
    "enabled": true,
    "secret": "{{ recaptcha_server_secret }}"
  },
  "application": {
    "extraStopListPath": "/etc/freefeed/banlist.txt"
  },
  "sentryDsn": "{{ sentry_dsn }}",
  "host": "https://{{ react_client_hostname }}",
  "media": {
    "url": "https://{{ freefeed_media_hostname }}/",
    "storage": {
      "type": "s3",
      "rootDir": "/var/freefeed-files/",
      "accessKeyId": "{{ aws_access_key | default(None) }}",
      "secretAccessKey": "{{ aws_secret_key | default(None) }}",
      "bucket": "{{ freefeed_s3_bucket }}",
      "endpoint": "{{ freefeed_s3_endpoint }}"
    }
  },
  "attachments": {
    "fileSizeLimit": 52428800
  },
  "profilePictures": {
    "defaultProfilePictureMediumUrl": "https://media.freefeed.net/attachments/d067713e-0ba4-4d0a-ae1f-41b31780fda3.png"
  },
  "mailer": {
    "useSMTPTransport": true,
    "fromName": "circle.ckovalev.com",
    "fromEmail": "circle@ckovalev.com",
    "resetPasswordMailSubject": "Circle password reset",
    "options": {
      "host": "{{ freefeed_mailer_smtp_host }}",
      "port": {{ freefeed_mailer_smtp_port }},
      "secure": false,
      "auth": {
        "user": "{{ freefeed_mailer_smtp_user }}",
        "pass": "{{ freefeed_mailer_smtp_pass }}"
      }
    }
  },
  "redis": {
    "host": "{{ redis_host | default('localhost') }}",
    "port": "{{ redis_port | default(6379) }}"
  },
  "postgres": {
    "connection": {
      "host": "{{ postgres_host }}",
      "database": "{{ postgres_dbname }}",
      "user": "{{ postgres_user }}",
      "password": "{{ postgres_pass }}"
    }
  },
  "performance": {
    "searchQueriesTimeout": 45000
  },
{% if freefeed_external_auth_providers_enabled %}
  "externalAuthProviders": {
    "google": {
      "clientId": "{{ freefeed_external_auth_google_client_id }}",
      "clientSecret": "{{ freefeed_external_auth_google_client_secret }}"
    },
    "facebook": {
      "clientId": "{{ freefeed_external_auth_facebook_client_id }}",
      "clientSecret": "{{ freefeed_external_auth_facebook_client_secret }}"
    }
  },
{% endif %}
  "app_name": "{{ new_relic_app_name }}",
  "license_key": "{{ new_relic_license_key }}"
}
